<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Ajouter un Patient - Administration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Ajouter un Patient</h1>
        <form id="add-patient-form" action="add_patient.php" method="post">
            <div>
                <label for="name">Nom :</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div>
                <label for="age">Âge :</label>
                <input type="number" id="age" name="age" required>
            </div>
            <div>
                <label for="severity">Gravité :</label>
                <select id="severity" name="severity" required>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
            <button type="submit">Ajouter</button>
        </form>
    </div>
    // javascript 
    <script>
        document.getElementById("add-patient-form").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent the form from submitting the traditional way
    
            var xhr = new XMLHttpRequest();
            var formData = new FormData(this); 
    
            xhr.open("POST", "add_patient.php", true);
            xhr.onload = function() {
                if (xhr.status === 200) {
                    alert("Patient added successfully!");
                    document.getElementById("add-patient-form").reset();
                } else {
                    // Handle error
                    alert("Something went wrong. Please try again.");
                }
            };
            xhr.send(formData);
        });
    </script>
</body>
</html>